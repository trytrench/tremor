import{__rest as e}from"tslib";import r,{useRef as t}from"react";import{mergeRefs as o,makeClassName as a}from"../../../lib/utils.js";import{tremorTwMerge as n}from"../../../lib/tremorTwMerge.js";import l from"../../../assets/PlusIcon.js";import s from"../../../assets/MinusIcon.js";import u from"../BaseInput.js";const p="flex mx-auto text-tremor-content-subtle dark:text-dark-tremor-content-subtle",d="cursor-pointer hover:text-tremor-content dark:hover:text-dark-tremor-content",i=r.forwardRef(((i,c)=>{const{onSubmit:m,enableStepper:b=!0,disabled:v,onValueChange:f,onChange:k}=i,w=e(i,["onSubmit","enableStepper","disabled","onValueChange","onChange"]),y=t(null),[x,g]=r.useState(!1),h=r.useCallback((()=>{g(!0)}),[]),C=r.useCallback((()=>{g(!1)}),[]),[D,N]=r.useState(!1),I=r.useCallback((()=>{N(!0)}),[]),S=r.useCallback((()=>{N(!1)}),[]);return r.createElement(u,Object.assign({type:"number",ref:o([y,c]),disabled:v,makeInputClassName:a("NumberInput"),onKeyDown:e=>{var r;if("Enter"===e.key&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){const e=null===(r=y.current)||void 0===r?void 0:r.value;null==m||m(parseFloat(null!=e?e:""))}"ArrowDown"===e.key&&h(),"ArrowUp"===e.key&&I()},onKeyUp:e=>{"ArrowDown"===e.key&&C(),"ArrowUp"===e.key&&S()},onChange:e=>{v||(null==f||f(parseFloat(e.target.value)),null==k||k(e))},stepper:b?r.createElement("div",{className:n("flex justify-center align-middle")},r.createElement("div",{tabIndex:-1,onClick:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),onTouchStart:e=>e.preventDefault(),onMouseUp:()=>{var e,r,t;v||(null===(e=y.current)||void 0===e||e.stepDown(),null==f||f(parseFloat(null!==(t=null===(r=y.current)||void 0===r?void 0:r.value)&&void 0!==t?t:"")))},className:n(!v&&d,p,"group py-[10px] px-2.5 border-l border-tremor-border dark:border-dark-tremor-border")},r.createElement(s,{"data-testid":"step-down",className:(x?"scale-95":"")+" h-4 w-4 duration-75 transition group-active:scale-95"})),r.createElement("div",{tabIndex:-1,onClick:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),onTouchStart:e=>e.preventDefault(),onMouseUp:()=>{var e,r,t;v||(null===(e=y.current)||void 0===e||e.stepUp(),null==f||f(parseFloat(null!==(t=null===(r=y.current)||void 0===r?void 0:r.value)&&void 0!==t?t:"")))},className:n(!v&&d,p,"group py-[10px] px-2.5 border-l border-tremor-border dark:border-dark-tremor-border")},r.createElement(l,{"data-testid":"step-up",className:(D?"scale-95":"")+" h-4 w-4 duration-75 transition group-active:scale-95"}))):null},w))}));i.displayName="NumberInput";export{i as default};
